<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PECS Education: Lifting for Liberation</title>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        // ðŸ”¥ FIREBASE CONFIG
        const firebaseConfig = {
          apiKey: "AIzaSyAZVjSUBCZ7LmXjFtp-GJvq292KMFTRnT4",
          authDomain: "pecs-ed-lifting-for-liberation.firebaseapp.com",
          databaseURL: "https://pecs-ed-lifting-for-liberation-default-rtdb.europe-west1.firebasedatabase.app",
          projectId: "pecs-ed-lifting-for-liberation",
          storageBucket: "pecs-ed-lifting-for-liberation.firebasestorage.app",
          messagingSenderId: "1089001250289",
          appId: "1:1089001250289:web:012ae85ac7334500697850"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        const { useState, useEffect } = React;

        // Icons
        const Share2 = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="18" cy="5" r="3" />
                <circle cx="6" cy="12" r="3" />
                <circle cx="18" cy="19" r="3" />
                <line x1="8.59" y1="13.51" x2="15.42" y2="17.49" />
                <line x1="15.41" y1="6.51" x2="8.59" y2="10.49" />
            </svg>
        );

        const Users = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
                <circle cx="9" cy="7" r="4" />
                <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
                <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
        );

        const TrendingUp = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="23 6 13.5 15.5 8.5 10.5 1 18" />
                <polyline points="17 6 23 6 23 12" />
            </svg>
        );

        const Calculator = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <rect x="4" y="2" width="16" height="20" rx="2" />
                <line x1="8" y1="6" x2="16" y2="6" />
                <line x1="16" y1="14" x2="16" y2="14.01" />
                <line x1="12" y1="14" x2="12" y2="14.01" />
                <line x1="8" y1="14" x2="8" y2="14.01" />
                <line x1="16" y1="18" x2="16" y2="18.01" />
                <line x1="12" y1="18" x2="12" y2="18.01" />
                <line x1="8" y1="18" x2="8" y2="18.01" />
            </svg>
        );

        const Plus = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <line x1="12" y1="5" x2="12" y2="19" />
                <line x1="5" y1="12" x2="19" y2="12" />
            </svg>
        );

        const Trash2 = ({ className }) => (
            <svg className={className} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="3 6 5 6 21 6" />
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" />
                <line x1="10" y1="11" x2="10" y2="17" />
                <line x1="14" y1="11" x2="14" y2="17" />
            </svg>
        );

        function WeightliftingFundraiser() {
          const [totalWeight, setTotalWeight] = useState(0);
          const [participantCount, setParticipantCount] = useState(0);
          const [name, setName] = useState('');
          const [inputMode, setInputMode] = useState('total');
          const [totalInput, setTotalInput] = useState('1500');
          const [blocks, setBlocks] = useState([{ id: 1, sets: '', reps: '', weight: '' }]);
          const [recentLifts, setRecentLifts] = useState([]);
          const [showSuccess, setShowSuccess] = useState(false);
          const [loading, setLoading] = useState(true);

          // Load data from Firebase
          useEffect(() => {
            const statsRef = database.ref('stats');
            const liftsRef = database.ref('lifts');

            statsRef.on('value', (snapshot) => {
              const data = snapshot.val();
              if (data) {
                setTotalWeight(data.totalWeight || 0);
                setParticipantCount(data.participantCount || 0);
              }
              setLoading(false);
            });

            liftsRef.limitToLast(5).on('value', (snapshot) => {
              const lifts = [];
              snapshot.forEach((child) => {
                lifts.unshift(child.val());
              });
              setRecentLifts(lifts);
            });

            // Handle URL parameters for shared links
            const params = new URLSearchParams(window.location.search);
            const urlWeight = params.get('weight');
            const urlName = params.get('name');
            
            if (urlWeight && urlName) {
              const decodedName = decodeURIComponent(urlName);
              const parsedWeight = parseFloat(urlWeight);
              
              if (!isNaN(parsedWeight)) {
                setTimeout(() => {
                  setName(decodedName);
                  setTotalInput(parsedWeight.toString());
                }, 1000);
              }
            }

            return () => {
              statsRef.off();
              liftsRef.off();
            };
          }, []);

          const addContribution = async (contributorName, contributedWeight) => {
            try {
              const normalizedName = contributorName.trim().toLowerCase();
              
              // Get current unique participants
              const participantsRef = database.ref('participants');
              const snapshot = await participantsRef.once('value');
              const participants = snapshot.val() || {};
              
              const isNewParticipant = !participants[normalizedName];
              
              // Update participants list
              if (isNewParticipant) {
                await participantsRef.child(normalizedName).set(true);
              }

              // Update stats
              const statsRef = database.ref('stats');
              const statsSnapshot = await statsRef.once('value');
              const currentStats = statsSnapshot.val() || { totalWeight: 0, participantCount: 0 };
              
              await statsRef.set({
                totalWeight: currentStats.totalWeight + contributedWeight,
                participantCount: isNewParticipant ? currentStats.participantCount + 1 : currentStats.participantCount
              });

              // Add to recent lifts
              const now = new Date();
              await database.ref('lifts').push({
                name: contributorName,
                weight: contributedWeight,
                date: now.toLocaleDateString('en-GB'),
                time: now.toLocaleTimeString('en-GB', { hour: '2-digit', minute: '2-digit' }),
                timestamp: Date.now()
              });

              setShowSuccess(true);
              setTimeout(() => setShowSuccess(false), 3000);
            } catch (error) {
              console.error('Error adding contribution:', error);
              alert('Error saving data. Please try again.');
            }
          };

          const addBlock = () => {
            const newId = Math.max(...blocks.map(b => b.id)) + 1;
            setBlocks([...blocks, { id: newId, sets: '', reps: '', weight: '' }]);
          };

          const removeBlock = (id) => {
            if (blocks.length > 1) {
              setBlocks(blocks.filter(block => block.id !== id));
            }
          };

          const updateBlock = (id, field, value) => {
            setBlocks(blocks.map(block => 
              block.id === id ? { ...block, [field]: value } : block
            ));
          };

          const calculateTotalWeight = () => {
            if (inputMode === 'total') {
              return parseFloat(totalInput) || 0;
            } else {
              return blocks.reduce((total, block) => {
                const s = parseFloat(block.sets) || 0;
                const r = parseFloat(block.reps) || 0;
                const w = parseFloat(block.weight) || 0;
                return total + (s * r * w);
              }, 0);
            }
          };

          const handleAddLift = () => {
            const calculatedWeight = calculateTotalWeight();
            if (name && calculatedWeight > 0) {
              addContribution(name, calculatedWeight);
              setName('');
              setTotalInput('');
              setBlocks([{ id: 1, sets: '', reps: '', weight: '' }]);
            }
          };

          const generateShareLink = () => {
            const calculatedWeight = calculateTotalWeight();
            if (!name || calculatedWeight <= 0) {
              alert('Please enter your name and weight lifted first!');
              return;
            }
            
            const baseUrl = window.location.origin + window.location.pathname;
            const shareUrl = `${baseUrl}?name=${encodeURIComponent(name)}&weight=${calculatedWeight}`;
            
            navigator.clipboard.writeText(shareUrl).then(() => {
              alert('Link copied to clipboard! Share it with others to add your lift to the challenge.');
            });
          };

          const goalWeight = 500000;
          const progress = Math.min((totalWeight / goalWeight) * 100, 100);
          const calculatedWeight = calculateTotalWeight();

          const getMilestone = () => {
            const milestones = [
              { weight: 500000, emoji: 'âœˆï¸', name: 'Boeing 747', desc: 'Incredible! We\'ve lifted a Boeing 747!' },
              { weight: 495000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 247 rhinos!' },
              { weight: 490000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 98 elephants!' },
              { weight: 485000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 12 humpback whales!' },
              { weight: 480000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 12 T-Rexes!' },
              { weight: 475000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 95 cars!' },
              { weight: 470000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 15 lorries!' },
              { weight: 465000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 155 hippos!' },
              { weight: 460000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 230 buses!' },
              { weight: 455000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 227 rhinos!' },
              { weight: 450000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 90 elephants!' },
              { weight: 445000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 11 humpback whales!' },
              { weight: 440000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 11 T-Rexes!' },
              { weight: 435000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 87 cars!' },
              { weight: 430000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 14 lorries!' },
              { weight: 425000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 142 hippos!' },
              { weight: 420000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 210 buses!' },
              { weight: 415000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 207 rhinos!' },
              { weight: 410000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 82 elephants!' },
              { weight: 405000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 10 humpback whales!' },
              { weight: 400000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 10 T-Rexes!' },
              { weight: 395000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 79 cars!' },
              { weight: 390000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 13 lorries!' },
              { weight: 385000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 128 hippos!' },
              { weight: 380000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 190 buses!' },
              { weight: 375000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 187 rhinos!' },
              { weight: 370000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 74 elephants!' },
              { weight: 365000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 9 humpback whales!' },
              { weight: 360000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 9 T-Rexes!' },
              { weight: 355000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 71 cars!' },
              { weight: 350000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 11 lorries!' },
              { weight: 345000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 115 hippos!' },
              { weight: 340000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 170 buses!' },
              { weight: 335000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 167 rhinos!' },
              { weight: 330000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 66 elephants!' },
              { weight: 325000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 8 humpback whales!' },
              { weight: 320000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 8 T-Rexes!' },
              { weight: 315000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 63 cars!' },
              { weight: 310000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 10 lorries!' },
              { weight: 305000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 102 hippos!' },
              { weight: 300000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 150 buses!' },
              { weight: 295000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 147 rhinos!' },
              { weight: 290000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 58 elephants!' },
              { weight: 285000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 7 humpback whales!' },
              { weight: 280000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 7 T-Rexes!' },
              { weight: 275000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 55 cars!' },
              { weight: 270000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 9 lorries!' },
              { weight: 265000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 88 hippos!' },
              { weight: 260000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 130 buses!' },
              { weight: 255000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 127 rhinos!' },
              { weight: 250000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 50 elephants!' },
              { weight: 245000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 6 humpback whales!' },
              { weight: 240000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 6 T-Rexes!' },
              { weight: 235000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 47 cars!' },
              { weight: 230000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 7 lorries!' },
              { weight: 225000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 75 hippos!' },
              { weight: 220000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 110 buses!' },
              { weight: 215000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 107 rhinos!' },
              { weight: 210000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 42 elephants!' },
              { weight: 205000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 5 humpback whales!' },
              { weight: 200000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 5 T-Rexes!' },
              { weight: 195000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 39 cars!' },
              { weight: 190000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 6 lorries!' },
              { weight: 185000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 62 hippos!' },
              { weight: 180000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 90 buses!' },
              { weight: 175000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 87 rhinos!' },
              { weight: 170000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 34 elephants!' },
              { weight: 165000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 4 humpback whales!' },
              { weight: 160000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 4 T-Rexes!' },
              { weight: 155000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 31 cars!' },
              { weight: 150000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 5 lorries!' },
              { weight: 145000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 48 hippos!' },
              { weight: 140000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 28 elephants!' },
              { weight: 135000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 67 buses!' },
              { weight: 130000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 65 rhinos!' },
              { weight: 125000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 3 humpback whales!' },
              { weight: 120000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 3 T-Rexes!' },
              { weight: 115000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 4 lorries!' },
              { weight: 110000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 37 hippos!' },
              { weight: 105000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 21 elephants!' },
              { weight: 100000, emoji: 'ðŸš—', name: 'Cars', desc: 'We\'ve lifted 20 cars!' },
              { weight: 95000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 47 rhinos!' },
              { weight: 90000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 45 buses!' },
              { weight: 85000, emoji: 'ðŸ‹', name: 'Humpback Whales', desc: 'We\'ve lifted 2 humpback whales!' },
              { weight: 80000, emoji: 'ðŸ¦•', name: 'T-Rexes', desc: 'We\'ve lifted 2 T-Rexes!' },
              { weight: 75000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 3 lorries!' },
              { weight: 70000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 14 elephants!' },
              { weight: 65000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 22 hippos!' },
              { weight: 60000, emoji: 'ðŸš›', name: 'Lorries', desc: 'We\'ve lifted 2 lorries!' },
              { weight: 55000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 27 rhinos!' },
              { weight: 50000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 10 elephants!' },
              { weight: 45000, emoji: 'ðŸ¦•', name: 'T-Rex', desc: 'We\'ve lifted a T-Rex!' },
              { weight: 40000, emoji: 'ðŸšŒ', name: 'Buses', desc: 'We\'ve lifted 20 buses!' },
              { weight: 35000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 12 hippos!' },
              { weight: 30000, emoji: 'ðŸ‹', name: 'Humpback Whale', desc: 'We\'ve lifted a humpback whale!' },
              { weight: 25000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 5 elephants!' },
              { weight: 20000, emoji: 'ðŸ¦', name: 'Rhinos', desc: 'We\'ve lifted 10 rhinos!' },
              { weight: 15000, emoji: 'ðŸ¦›', name: 'Hippos', desc: 'We\'ve lifted 5 hippos!' },
              { weight: 10000, emoji: 'ðŸ˜', name: 'Elephants', desc: 'We\'ve lifted 2 elephants!' },
              { weight: 5000, emoji: 'ðŸš—', name: 'Car', desc: 'We\'ve lifted a car!' },
            ];
            
            for (let milestone of milestones) {
              if (totalWeight >= milestone.weight) {
                return milestone;
              }
            }
            return null;
          };

          const currentMilestone = getMilestone();

          if (loading) {
            return (
              <div className="min-h-screen bg-black flex items-center justify-center">
                <div className="text-white text-2xl">Loading...</div>
              </div>
            );
          }

          return (
            <div className="min-h-screen bg-black p-4 md:p-8" style={{ fontFamily: 'system-ui, -apple-system, sans-serif' }}>
              <div className="max-w-4xl mx-auto">
                <div className="bg-zinc-900 rounded-2xl shadow-xl p-6 md:p-8 mb-6 border border-zinc-800">
                  <div className="flex flex-col items-center justify-center mb-6">
                    <img 
                      src="logo.png" 
                      alt="PECS Logo" 
                      className="w-40 h-40 mb-4"
                    />
                    <h2 className="text-3xl md:text-5xl font-bold text-red-600 text-center tracking-wider" style={{ fontFamily: "'Bebas Neue', sans-serif", letterSpacing: '0.05em' }}>
                      LIFTING FOR LIBERATION
                    </h2>
                  </div>

                  {showSuccess && (
                    <div className="mb-6 p-4 bg-red-900 border border-red-600 text-white rounded-lg animate-pulse">
                      ðŸŽ‰ Contribution added successfully!
                    </div>
                  )}

                  {currentMilestone && (
                    <div className="mb-6 p-6 bg-gradient-to-r from-yellow-600 to-orange-600 border-2 border-yellow-400 text-white rounded-xl shadow-lg">
                      <div className="flex items-center gap-4">
                        <div className="text-6xl">{currentMilestone.emoji}</div>
                        <div className="flex-1">
                          <h3 className="text-2xl font-bold mb-1" style={{ fontFamily: "'Bebas Neue', sans-serif" }}>
                            MILESTONE UNLOCKED: {currentMilestone.name}!
                          </h3>
                          <p className="text-yellow-100">{currentMilestone.desc}</p>
                        </div>
                      </div>
                    </div>
                  )}

                  <div className="grid md:grid-cols-2 gap-6 mb-8">
                    <div className="bg-red-600 rounded-xl p-6 text-white border border-red-700">
                      <div className="flex items-center mb-2">
                        <TrendingUp className="w-6 h-6 mr-2" />
                        <p className="text-red-100">Total Weight Lifted</p>
                      </div>
                      <p className="text-4xl font-bold">{totalWeight.toLocaleString()} kg</p>
                      <p className="text-sm text-red-100 mt-2">Goal: {goalWeight.toLocaleString()} kg</p>
                    </div>

                    <div className="bg-zinc-700 rounded-xl p-6 text-white border border-zinc-600">
                      <div className="flex items-center mb-2">
                        <Users className="w-6 h-6 mr-2" />
                        <p className="text-zinc-200">Total Participants</p>
                      </div>
                      <p className="text-4xl font-bold">{participantCount}</p>
                    </div>
                  </div>

                  <div className="mb-8">
                    <div className="flex justify-between mb-2">
                      <span className="text-sm font-medium text-white">Progress to Goal</span>
                      <span className="text-sm font-medium text-red-500">{progress.toFixed(1)}%</span>
                    </div>
                    <div className="w-full bg-zinc-800 rounded-full h-4 overflow-hidden border border-zinc-700">
                      <div 
                        className="bg-gradient-to-r from-red-600 to-red-700 h-4 rounded-full transition-all duration-500"
                        style={{ width: `${progress}%` }}
                      ></div>
                    </div>
                  </div>

                  <div className="space-y-4 mb-6">
                    <div>
                      <label className="block text-sm font-medium text-white mb-2">
                        Your Name
                      </label>
                      <input
                        type="text"
                        value={name}
                        onChange={(e) => setName(e.target.value)}
                        className="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent"
                        placeholder="Enter your name"
                      />
                    </div>

                    <div>
                      <label className="block text-sm font-medium text-white mb-3">
                        Input Method
                      </label>
                      <div className="flex gap-3 mb-4">
                        <button
                          onClick={() => setInputMode('total')}
                          className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors ${
                            inputMode === 'total'
                              ? 'bg-red-600 text-white border border-red-500'
                              : 'bg-zinc-800 text-zinc-300 border border-zinc-700 hover:bg-zinc-700'
                          }`}
                        >
                          Total Weight
                        </button>
                        <button
                          onClick={() => setInputMode('calculated')}
                          className={`flex-1 py-2 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 ${
                            inputMode === 'calculated'
                              ? 'bg-red-600 text-white border border-red-500'
                              : 'bg-zinc-800 text-zinc-300 border border-zinc-700 hover:bg-zinc-700'
                          }`}
                        >
                          <Calculator className="w-4 h-4" />
                          Calculate
                        </button>
                      </div>

                      {inputMode === 'total' ? (
                        <div>
                          <label className="block text-sm font-medium text-white mb-2">
                            Total Weight Lifted (kg)
                          </label>
                          <input
                            type="number"
                            value={totalInput}
                            onChange={(e) => setTotalInput(e.target.value)}
                            className="w-full px-4 py-3 bg-zinc-800 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent"
                            placeholder="Enter total weight in kg"
                            min="0"
                            step="0.1"
                          />
                          <p className="text-sm text-zinc-400 mt-2">
                            ðŸ’¡ Don't know how much you lifted? Use the default 1500kg per session!
                          </p>
                        </div>
                      ) : (
                        <div className="space-y-4">
                          {blocks.map((block, index) => (
                            <div key={block.id} className="p-4 border-2 border-zinc-700 rounded-lg bg-zinc-800">
                              <div className="flex justify-between items-center mb-3">
                                <h4 className="font-semibold text-white">Block {index + 1}</h4>
                                {blocks.length > 1 && (
                                  <button
                                    onClick={() => removeBlock(block.id)}
                                    className="text-red-500 hover:text-red-400 p-1"
                                  >
                                    <Trash2 className="w-4 h-4" />
                                  </button>
                                )}
                              </div>
                              <div className="grid grid-cols-3 gap-2">
                                <div>
                                  <label className="block text-xs font-medium text-zinc-400 mb-1">
                                    Sets
                                  </label>
                                  <input
                                    type="number"
                                    value={block.sets}
                                    onChange={(e) => updateBlock(block.id, 'sets', e.target.value)}
                                    className="w-full px-3 py-2 bg-zinc-900 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                    placeholder="3"
                                    min="0"
                                  />
                                </div>
                                <div>
                                  <label className="block text-xs font-medium text-zinc-400 mb-1">
                                    Reps
                                  </label>
                                  <input
                                    type="number"
                                    value={block.reps}
                                    onChange={(e) => updateBlock(block.id, 'reps', e.target.value)}
                                    className="w-full px-3 py-2 bg-zinc-900 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                    placeholder="10"
                                    min="0"
                                  />
                                </div>
                                <div>
                                  <label className="block text-xs font-medium text-zinc-400 mb-1">
                                    Weight (kg)
                                  </label>
                                  <input
                                    type="number"
                                    value={block.weight}
                                    onChange={(e) => updateBlock(block.id, 'weight', e.target.value)}
                                    className="w-full px-3 py-2 bg-zinc-900 border border-zinc-700 text-white rounded-lg focus:ring-2 focus:ring-red-600 focus:border-transparent"
                                    placeholder="50"
                                    min="0"
                                    step="0.1"
                                  />
                                </div>
                              </div>
                              {block.sets && block.reps && block.weight && (
                                <div className="mt-2 text-sm text-zinc-400">
                                  Block total: <span className="font-semibold text-red-500">
                                    {(parseFloat(block.sets) * parseFloat(block.reps) * parseFloat(block.weight)).toFixed(1)} kg
                                  </span>
                                </div>
                              )}
                            </div>
                          ))}
                          
                          <button
                            onClick={addBlock}
                            className="w-full py-2 px-4 border-2 border-dashed border-zinc-700 rounded-lg text-zinc-400 hover:border-red-600 hover:text-red-500 transition-colors flex items-center justify-center gap-2"
                          >
                            <Plus className="w-4 h-4" />
                            Add Another Block
                          </button>

                          {calculatedWeight > 0 && (
                            <div className="p-4 bg-red-950 border border-red-800 rounded-lg">
                              <p className="text-sm text-zinc-300">Total Calculated Weight:</p>
                              <p className="text-3xl font-bold text-red-500">
                                {calculatedWeight.toFixed(1)} kg
                              </p>
                            </div>
                          )}
                        </div>
                      )}
                    </div>

                    <div className="flex gap-3">
                      <button
                        onClick={handleAddLift}
                        className="flex-1 bg-red-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-red-700 transition-colors border border-red-500"
                      >
                        Add My Lift
                      </button>
                      <button
                        onClick={generateShareLink}
                        className="flex items-center justify-center gap-2 bg-zinc-700 text-white py-3 px-6 rounded-lg font-semibold hover:bg-zinc-600 transition-colors border border-zinc-600"
                      >
                        <Share2 className="w-5 h-5" />
                        Share Link
                      </button>
                    </div>
                  </div>

                  {recentLifts.length > 0 && (
                    <div>
                      <h3 className="text-xl font-semibold text-white mb-4">Recent Lifts</h3>
                      <div className="space-y-2">
                        {recentLifts.map((lift, index) => (
                          <div key={index} className="flex justify-between items-center p-3 bg-zinc-800 rounded-lg border border-zinc-700">
                            <span className="font-medium text-white">{lift.name}</span>
                            <div className="text-right">
                              <span className="text-red-500 font-bold">{lift.weight.toFixed(1)} kg</span>
                              <span className="text-zinc-500 text-sm ml-2">{lift.time}</span>
                            </div>
                          </div>
                        ))}
                      </div>
                    </div>
                  )}
                </div>

                <div className="bg-zinc-900 rounded-xl shadow-md p-6 border border-zinc-800 mb-6">
                  <h3 className="text-lg font-semibold text-white mb-3">How It Works</h3>
                  <ol className="list-decimal list-inside space-y-2 text-zinc-300">
                    <li>Enter your name</li>
                    <li>Choose to input total weight OR calculate from multiple blocks of sets, reps, and weight</li>
                    <li>Add multiple blocks for different exercises or weight variations</li>
                    <li>Click "Add My Lift" to contribute to the team total</li>
                  </ol>
                </div>

                <div className="bg-zinc-900 rounded-xl shadow-md p-6 border border-zinc-800 text-center">
                  <p className="text-zinc-300 text-lg mb-4">
                    This October, <a href="https://www.instagram.com/pecseducation/?hl=en" target="_blank" rel="noopener noreferrer" className="text-red-500 hover:text-red-400 font-semibold underline">Pecs Education</a> is collectively lifting half a million kilograms to raise Â£2000 for our community.
                  </p>
                  <a 
                    href="https://actionnetwork.org/fundraising/lifting-500000kg-for-liberation" 
                    target="_blank" 
                    rel="noopener noreferrer"
                    className="inline-block bg-red-600 text-white py-3 px-8 rounded-lg font-bold text-lg hover:bg-red-700 transition-colors border-2 border-red-500"
                  >
                    ðŸ’ª Donate Here!
                  </a>
                </div>
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<WeightliftingFundraiser />);
    </script>
</body>
</html>